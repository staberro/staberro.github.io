<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0d0d12">
<title>ViralloLab ‚Ä¢ Zbi√≥r lekcji</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0d0d12;--card:#14141c;--elevated:#1c1c28;--text:#f0f0f5;--text2:#a0a0b5;--muted:#606075;--red:#dc2626;--orange:#f97316;--gold:#eab308;--green:#22c55e;--purple:#a855f7;--blue:#3b82f6;--cyan:#06b6d4;--border:rgba(255,255,255,0.06)}
html{scroll-behavior:smooth}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);line-height:1.7}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:0 auto;padding:0 20px}

/* NAV */
.nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:14px 20px;background:rgba(13,13,18,0.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:16px}
.logo{display:flex;align-items:center;gap:12px;font-family:'Cinzel',serif;font-size:1.1rem;font-weight:700;white-space:nowrap}
.logo-icon{width:40px;height:40px;background:linear-gradient(135deg,var(--green),var(--purple));border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:0.85rem;font-weight:900;letter-spacing:0.5px;border:1px solid rgba(255,255,255,0.1)}
.nav-tools{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.nav-search{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--elevated);border:1px solid var(--border);border-radius:50px;width:min(320px,50vw)}
.nav-search input{background:transparent;border:none;outline:none;color:var(--text);font-size:0.9rem;width:100%;font-family:inherit}
.nav-search input::placeholder{color:var(--muted)}
.nav-select{padding:10px 14px;background:var(--elevated);border:1px solid var(--border);border-radius:50px;color:var(--text);font-size:0.85rem;cursor:pointer;font-family:inherit}
.nav-chip{padding:8px 14px;background:var(--elevated);border:1px solid var(--border);border-radius:50px;font-size:0.85rem;color:var(--text2)}
@media(max-width:768px){.nav-search{width:100%;order:10}.nav-tools{width:100%;justify-content:space-between}}

/* HERO */
.hero{min-height:60vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:120px 20px 60px}
.hero-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--elevated);border:1px solid var(--border);border-radius:50px;font-size:0.85rem;color:var(--gold);margin-bottom:20px}
.hero h1{font-family:'Cinzel',serif;font-size:clamp(2.5rem,8vw,4.5rem);font-weight:700;margin-bottom:16px;line-height:1.1}
.hero h1 span{background:linear-gradient(135deg,var(--green),var(--purple),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-desc{max-width:600px;color:var(--text2);margin-bottom:32px;font-size:1.05rem}
.hero-stats{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-bottom:32px}
.hero-stat{padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;font-size:0.9rem;color:var(--text2)}
.hero-stat b{color:var(--text)}
.hero-btns{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.hero-btn{display:inline-flex;align-items:center;gap:8px;padding:14px 28px;border-radius:50px;font-weight:600;font-size:0.95rem;transition:0.3s;border:none;cursor:pointer;font-family:inherit}
.hero-btn.primary{background:linear-gradient(135deg,var(--green),var(--purple));color:#fff}
.hero-btn.primary:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(34,197,94,0.25)}
.hero-btn.secondary{background:var(--elevated);color:var(--text);border:1px solid var(--border)}
.hero-btn.secondary:hover{border-color:var(--gold)}
</style>
</head>
<body>
</body>
</html>

<style>
/* SECTIONS */
section{padding:60px 20px}
.section-badge{display:inline-block;padding:6px 14px;background:var(--elevated);border-radius:50px;font-size:0.8rem;color:var(--gold);margin-bottom:16px}
.section-title{font-family:'Cinzel',serif;font-size:clamp(1.75rem,5vw,2.5rem);margin-bottom:12px}
.section-desc{color:var(--text2);max-width:600px;margin:0 auto 40px}
.text-center{text-align:center}

/* LESSONS GRID */
#lekcje{background:var(--bg)}
.lessons-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
@media(max-width:400px){.lessons-grid{grid-template-columns:1fr}}

.lesson-card{background:var(--card);border:1px solid var(--border);border-radius:20px;padding:24px;transition:0.3s;position:relative;overflow:hidden}
.lesson-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--green),var(--purple));transform:scaleX(0);transition:0.3s;transform-origin:left}
.lesson-card:hover{border-color:rgba(255,255,255,0.12);transform:translateY(-4px)}
.lesson-card:hover::before{transform:scaleX(1)}
.lesson-top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:12px}
.lesson-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:var(--elevated);border-radius:50px;font-size:0.8rem;color:var(--text2)}
.lesson-card h3{font-size:1.15rem;margin-bottom:8px;line-height:1.3}
.lesson-card p{color:var(--text2);font-size:0.9rem;margin-bottom:16px;min-height:44px}
.lesson-actions{display:flex;gap:10px;flex-wrap:wrap}
.lesson-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;border-radius:12px;font-size:0.85rem;font-weight:500;transition:0.3s;border:none;cursor:pointer;font-family:inherit}
.lesson-btn.open{background:linear-gradient(135deg,var(--purple),var(--blue));color:#fff}
.lesson-btn.open:hover{transform:translateY(-2px)}
.lesson-btn.copy{background:var(--elevated);color:var(--text);border:1px solid var(--border)}
.lesson-btn.copy:hover{border-color:var(--gold)}
.lesson-btn.copy.done{background:rgba(34,197,94,0.15);border-color:var(--green);color:var(--green)}

/* EMPTY STATE */
.empty{text-align:center;padding:60px 20px;color:var(--muted)}
.empty-icon{font-size:3rem;margin-bottom:16px;opacity:0.5}
.empty p{font-size:1rem}

/* INFO CARDS */
.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-top:40px}
.info-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px}
.info-card h4{color:var(--gold);margin-bottom:10px;font-size:1rem}
.info-card p{color:var(--text2);font-size:0.9rem}
.info-card code{background:var(--elevated);padding:2px 8px;border-radius:6px;font-size:0.8rem;color:var(--text)}

/* FOOTER - styl z mloda-polska */
footer{padding:48px 20px;text-align:center;border-top:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,0),rgba(255,255,255,0.02))}
.footer-logo{font-family:'Cinzel',serif;font-size:1.25rem;margin-bottom:12px}
.footer-copy{color:var(--muted);font-size:0.9rem}
.footer-copy a{color:var(--text);text-decoration:none;border-bottom:1px solid rgba(255,255,255,0.16);padding-bottom:2px;transition:0.25s}
.footer-copy a:hover{border-bottom-color:rgba(234,179,8,0.75);color:var(--gold)}
.footer-brand{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:var(--elevated);border:1px solid var(--border);color:var(--text2);margin-left:10px}
.footer-brand b{color:var(--gold)}

/* PROGRESS BAR */
.nav-progress{position:absolute;left:0;right:0;bottom:-1px;height:3px;background:transparent}
.nav-progress-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--green),var(--purple),var(--gold));border-radius:0 6px 6px 0;box-shadow:0 0 20px rgba(234,179,8,0.2)}

/* ANIMATIONS */
.reveal{opacity:0;transform:translateY(20px);transition:opacity 0.6s ease,transform 0.6s ease}
.reveal.on{opacity:1;transform:translateY(0)}

@media(max-width:600px){
.lesson-card{padding:20px}
.lesson-actions{flex-direction:column}
.lesson-btn{width:100%;justify-content:center}
}
</style>

<nav class="nav">
<div class="nav-inner">
<a href="#" class="logo">
<div class="logo-icon">VL</div>
<span>ViralloLab</span>
</a>
<div class="nav-tools">
<div class="nav-search">
<span>üîé</span>
<input type="search" id="searchInput" placeholder="Szukaj lekcji...">
</div>
<select class="nav-select" id="sortSelect">
<option value="az">A ‚Üí Z</option>
<option value="za">Z ‚Üí A</option>
</select>
<span class="nav-chip" id="countChip">0 lekcji</span>
</div>
</div>
<div class="nav-progress"><div class="nav-progress-bar" id="progressBar"></div></div>
</nav>

<section class="hero">
<div class="hero-badge">üß† ViralloLab</div>
<h1><span>Zbi√≥r lekcji</span></h1>
<p class="hero-desc">Interaktywne lekcje z quizami, fiszkami i cwiczeniami. Wybierz temat i zacznij nauke.</p>
<div class="hero-stats">
<div class="hero-stat">üëë <b>Staberek</b></div>
<div class="hero-stat" id="statusLine">‚è≥ Ladowanie...</div>
<div class="hero-stat" id="lastRefresh">üïê --:--</div>
</div>
<div class="hero-btns">
<a href="https://staberek.com" target="_blank" class="hero-btn primary">Staberek.com ‚Üí</a>
<button class="hero-btn secondary" id="refreshBtn">üîÑ Odswiez liste</button>
</div>
</section>

<section id="lekcje">
<div class="container">
<div class="text-center">
<div class="section-badge" style="font-size:1rem;padding:10px 20px;">üìö Dostepne materialy</div>
</div>
<div class="lessons-grid" id="grid"></div>
<div class="empty" id="empty" style="display:none">
<div class="empty-icon">üîç</div>
<p>Brak pasujacych lekcji. Zmien filtr lub wyszukiwanie.</p>
</div>
</div>
</section>

<footer>
<div class="footer-logo">üìö ViralloLab</div>
<p class="footer-copy">Wykonanie: <a href="https://staberek.com" target="_blank">Staberek</a> (<a href="https://staberek.com" target="_blank">dr inz. Kacper Stabrawa</a>) <span class="footer-brand">üß† <b>ViralloLab</b></span></p>
</footer>

<script>
const LESSONS_BASE_URL = "https://staberro.github.io/";
const SOURCE = { owner: "staberro", repo: "staberro.github.io", branch: "main" };

const OVERRIDE = {
"lektion-3b-essen.html": { title: "Lektion 3b ‚Äî Essen & Getranke", desc: "Niemiecki: slowka o jedzeniu + fiszki, quizy, dialogi." },
"kurs-pisania-rozprawki.html": { title: "Rozprawka PRO", desc: "Krok po kroku: teza, argumenty, przyklady, struktura." },
"mloda-polska.html": { title: "Mloda Polska", desc: "Kasprowicz, Tetmajer - nurty, srodki stylistyczne, utwory." },
"lalka-matura.html": { title: "Lalka - Matura", desc: "Kompletne repetytorium do matury z Lalki Prusa." }
};

const $ = id => document.getElementById(id);

function normalizeTitle(file) {
const noExt = file.replace(/\.html?$/i, "");
return noExt.replace(/[_-]+/g, " ").replace(/\s+/g, " ").trim()
.split(" ").map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(" ");
}

function detectBadge(file) {
const f = file.toLowerCase();
if (f.includes("lektion") || f.includes("deutsch") || f.includes("essen")) return "üá©üá™ Niemiecki";
if (f.includes("rozprawk") || f.includes("kurs-pisania")) return "‚úçÔ∏è Polski";
if (f.includes("polska") || f.includes("mloda") || f.includes("lalka")) return "üìö Polski";
return "üìÑ Lekcja";
}

let lessons = [];

async function fetchLessons() {
$("statusLine").textContent = "‚è≥ Ladowanie...";
try {
const url = `https://api.github.com/repos/${SOURCE.owner}/${SOURCE.repo}/contents?ref=${SOURCE.branch}`;
const res = await fetch(url);
const data = await res.json();
lessons = data.filter(f => f.name.endsWith(".html") && f.name !== "index.html").map(f => {
const ov = OVERRIDE[f.name] || {};
return {
file: f.name,
title: ov.title || normalizeTitle(f.name),
desc: ov.desc || "Interaktywna lekcja z cwiczeniami.",
badge: detectBadge(f.name),
url: LESSONS_BASE_URL + f.name
};
});
$("statusLine").textContent = "‚úÖ Zaladowano";
$("lastRefresh").textContent = "üïê " + new Date().toLocaleTimeString("pl-PL", {hour:"2-digit", minute:"2-digit"});
render();
} catch(e) {
$("statusLine").textContent = "‚ùå Blad ladowania";
console.error(e);
}
}

function render() {
const q = $("searchInput").value.toLowerCase();
const sort = $("sortSelect").value;
let filtered = lessons.filter(l => l.title.toLowerCase().includes(q) || l.desc.toLowerCase().includes(q) || l.badge.toLowerCase().includes(q));
filtered.sort((a, b) => sort === "az" ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));
$("countChip").textContent = filtered.length + " lekcji";
if (filtered.length === 0) {
$("grid").innerHTML = "";
$("empty").style.display = "block";
return;
}
$("empty").style.display = "none";
$("grid").innerHTML = filtered.map(l => `
<div class="lesson-card">
<div class="lesson-top">
<span class="lesson-badge">${l.badge}</span>
</div>
<h3>${l.title}</h3>
<p>${l.desc}</p>
<div class="lesson-actions">
<a href="${l.url}" target="_blank" class="lesson-btn open">Otworz ‚Üí</a>
<button class="lesson-btn copy" onclick="copyLink(this,'${l.url}')">üìã Kopiuj link</button>
</div>
</div>
`).join("");
}

function copyLink(btn, url) {
navigator.clipboard.writeText(url);
btn.classList.add("done");
btn.textContent = "‚úì Skopiowano";
setTimeout(() => { btn.classList.remove("done"); btn.textContent = "üìã Kopiuj link"; }, 2000);
}

$("searchInput").addEventListener("input", render);
$("sortSelect").addEventListener("change", render);
$("refreshBtn").addEventListener("click", fetchLessons);

window.addEventListener("scroll", () => {
const h = document.documentElement.scrollHeight - window.innerHeight;
const pct = h > 0 ? (window.scrollY / h) * 100 : 0;
$("progressBar").style.width = pct + "%";
});

document.querySelectorAll(".reveal").forEach(el => el.classList.add("on"));
fetchLessons();
</script>
</body>
</html>
